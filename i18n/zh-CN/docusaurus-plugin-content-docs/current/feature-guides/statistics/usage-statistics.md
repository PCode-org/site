# 使用统计

使用统计功能提供详细的数据分析，帮助您了解 PCode 的使用情况。

## 功能概述

使用统计提供了以下功能：

- **使用量图表**：可视化显示使用量趋势
- **会话时间线**：显示会话的时间分布
- **并发强度**：显示并发会话的强度分布
- **详细统计**：提供详细的统计数据

## 使用量图表

### 图表类型

使用量图表提供多种可视化方式：

- **折线图**：显示使用量随时间的变化趋势
- **柱状图**：显示不同时间段的对比
- **面积图**：显示累计使用量
- **热力图**：显示使用强度分布

### 时间范围

可选择不同的时间范围查看：

- **今天**：今天的详细使用情况
- **本周**：本周的使用统计
- **本月**：本月的统计摘要
- **自定义**：自定义时间范围

### 统计维度

按不同维度统计使用量：

- **会话数**：创建的会话数量
- **消息数**：发送和接收的消息数量
- **工具调用**：执行的工具调用次数
- **Token 使用**：使用的 Token 数量

## 会话时间线

### 时间线视图

会话时间线显示所有会话的时间分布：

- **时间轴**：按时间顺序排列的会话
- **持续时间**：每个会话的持续时间
- **会话类型**：区分不同类型的会话
- **状态标识**：显示会话的状态

### 交互功能

时间线支持以下交互：

- **缩放**：缩放时间线查看不同粒度
- **平移**：平移查看不同时间段
- **点击**：点击会话查看详情
- **筛选**：按类型和状态筛选

### 时间线分析

从时间线可以分析：

- **使用模式**：识别使用高峰时段
- **会话模式**：分析会话创建模式
- **活跃趋势**：查看活跃度变化趋势

## 并发强度分布

### 并发强度条

显示当前和历史并发强度：

- **当前强度**：当前活跃会话数
- **平均强度**：平均并发会话数
- **峰值强度**：峰值并发会话数
- **强度趋势**：强度变化趋势

### 并发分布直方图

显示并发会话的分布情况：

- **X 轴**：并发会话数
- **Y 轴**：该并发数出现的时间或次数
- **颜色编码**：不同负载级别的颜色

### 负载分析

从并发分布可以分析：

- **负载模式**：识别负载模式
- **资源需求**：评估资源需求
- **优化机会**：发现优化机会

## 详细统计

### 总体统计

显示整体的使用统计：

- **总会话数**：创建的所有会话数量
- **总消息数**：发送和接收的所有消息
- **总工具调用**：执行的所有工具调用
- **总 Token 使用**：使用的所有 Token

### 按项目统计

按项目分组统计：

- **项目列表**：所有项目的列表
- **项目统计**：每个项目的统计数据
- **项目对比**：项目间的对比

### 按类型统计

按会话类型统计：

- **聊天会话**：聊天会话的统计
- **提案会话**：提案会话的统计
- **完成率**：各类会话的完成率

## 性能指标

### 响应时间

显示系统的响应时间：

- **平均响应时间**：所有请求的平均响应时间
- **中位响应时间**：响应时间的中位数
- **最大响应时间**：最长的响应时间
- **响应时间分布**：响应时间的分布

### 成功率

显示操作的成功率：

- **总体成功率**：所有操作的成功率
- **按类型成功率**：不同类型操作的成功率
- **失败原因**：常见失败原因分析

## 数据导出

### 导出格式

支持多种导出格式：

- **CSV**：适合进一步分析
- **JSON**：适合程序处理
- **Excel**：适合报表生成
- **PDF**：适合打印和分享

### 导出范围

选择导出的数据范围：

- **时间范围**：选择要导出的时间段
- **数据类型**：选择要导出的数据类型
- **粒度**：选择数据的详细程度

## 数据保留

### 保留策略

数据的保留策略：

- **实时数据**：保留最近 7 天的详细数据
- **日数据**：保留最近 6 个月的日统计数据
- **月数据**：保留最近 2 年的月统计数据
- **年数据**：永久保留年统计数据

### 数据清理

自动清理过期数据：

- **自动清理**：自动清理超过保留期的数据
- **清理通知**：清理前发送通知
- **数据归档**：重要数据可以归档

## 隐私设置

### 数据收集

控制数据收集的范围：

- **收集匿名数据**：只收集匿名统计数据
- **收集详细数据**：收集详细的操作记录
- **自定义收集**：自定义收集的内容

### 数据共享

控制数据共享的设置：

- **不共享**：不共享任何数据
- **匿名共享**：共享匿名统计数据
- **完全共享**：共享所有收集的数据

:::info 注意

无论选择哪种设置，个人敏感信息都不会被共享。

:::

## 最佳实践

### 使用统计

- **定期查看**：定期查看使用统计
- **趋势分析**：关注使用趋势变化
- **异常检测**：及时发现异常情况

### 性能优化

- **识别瓶颈**：通过统计识别性能瓶颈
- **资源规划**：根据统计规划资源
- **效率提升**：优化低效操作

### 数据管理

- **定期导出**：定期导出重要数据
- **数据备份**：备份统计数据
- **清理策略**：制定合理的数据清理策略

## 相关功能

- [效率评级](./efficiency-rating.md) - 了解效率评级功能
- [会话管理](../session-management/) - 了解会话相关功能
- [并发管理](../session-management/concurrency.md) - 管理并发会话
