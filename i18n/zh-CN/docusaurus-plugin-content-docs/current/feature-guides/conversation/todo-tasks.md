# 待办任务

待办任务功能允许 AI 在对话中创建和管理任务列表，帮助您跟踪进度和完成工作。

## 功能概述

待办任务提供了以下功能：

- **任务创建**：AI 可以自动创建待办任务
- **任务状态**：跟踪任务的完成状态
- **进度显示**：显示任务完成进度
- **手动管理**：用户可以手动更新任务状态
- **任务分组**：相关任务可以分组显示

## 任务状态

待办任务有以下状态：

- **待办**：任务已创建，等待开始
- **进行中**：任务正在执行
- **已完成**：任务已完成
- **已取消**：任务已取消
- **失败**：任务执行失败

## 任务显示

### 任务列表

待办任务以列表形式显示在聊天面板中：

- **任务描述**：任务的详细说明
- **状态图标**：直观的状态指示
- **复选框**：手动切换任务状态
- **子任务**：支持嵌套的子任务

### 任务卡片

每个任务显示为卡片形式：

- **任务标题**：简短的任务名称
- **任务详情**：详细的任务描述
- **创建时间**：任务的创建时间
- **更新时间**：最后更新时间
- **优先级**：任务的优先级（如果有）

## 任务操作

### 切换状态

点击任务的复选框可以切换任务状态：

- **待办 → 进行中**：开始执行任务
- **进行中 → 已完成**：标记任务完成
- **已完成 → 待办**：重新打开任务

### 删除任务

- 点击删除图标可以删除任务
- 删除前会显示确认对话框

### 编辑任务

- 双击任务可以编辑任务描述
- 支持多行编辑

## 任务进度

### 进度条

任务组或父任务会显示进度条：

- **百分比**：完成的百分比
- **可视化条**：颜色编码的进度条
- **子任务统计**：已完成/总子任务数

### 进度计算

进度根据子任务状态自动计算：

- 已完成子任务 / 总子任务数
- 如果没有子任务，根据当前状态

## 任务类型

### 自动创建的任务

AI 在对话中自动创建的任务：

- 基于对话内容生成
- 反映 AI 的工作计划
- 自动更新状态

### 手动创建的任务

用户手动创建的任务：

- 通过任务管理界面创建
- 完全自定义任务内容
- 手动管理任务状态

### 混合任务

AI 创建后由用户管理的任务：

- AI 创建初始任务列表
- 用户可以修改和调整
- 结合 AI 和用户输入

## 任务分组

### 按类别分组

相关任务可以按类别分组：

- **功能开发**：与功能开发相关的任务
- **Bug 修复**：与修复 Bug 相关的任务
- **文档编写**：与文档相关的任务
- **测试**：与测试相关的任务

### 嵌套任务

支持任务嵌套：

- **父任务**：包含子任务的任务
- **子任务**：属于父任务的具体任务
- **多级嵌套**：支持多级嵌套结构

## 任务持久化

待办任务与会话关联：

- **会话级别**：任务保存在会话中
- **自动保存**：任务状态自动保存
- **跨会话**：任务在会话间保持

## 通知和提醒

### 状态变更通知

当任务状态变化时：

- **视觉通知**：任务卡片高亮
- **消息通知**：显示状态变更消息
- **进度更新**：更新进度条

### 到期提醒

如果任务设置了截止日期：

- **即将到期**：黄色警告
- **已逾期**：红色警告
- **通知消息**：显示提醒消息

## 最佳实践

### 使用待办任务

1. 让 AI 在对话开始时创建任务列表
2. 定期检查任务进度
3. 手动更新已完成的任务
4. 为复杂任务创建子任务

### 组织任务

- 使用描述性的任务名称
- 将相关任务分组
- 为长期项目设置里程碑
- 定期清理已完成的任务

## 相关功能

- [消息渲染](./message-rendering.md) - 了解任务在消息中的显示方式
- [工具调用](./tool-calls.md) - 查看与任务相关的工具调用
- [会话聊天](../session-management/session-chat.md) - 了解聊天面板的完整功能
