# 工具调用

工具调用功能显示 AI 执行的工具和函数调用，帮助您理解 AI 的操作过程。

## 功能概述

工具调用提供了以下功能：

- **调用列表**：显示所有工具调用的列表
- **参数详情**：查看传递给工具的参数
- **结果展示**：查看工具执行的返回值
- **状态指示**：显示调用的成功或失败状态
- **详细视图**：展开查看完整的调用详情

## 工具调用类型

### 文件操作

- **读取文件**：读取文件内容
- **写入文件**：创建或修改文件
- **搜索文件**：在目录中搜索文件
- **列出目录**：显示目录内容

### 代码操作

- **执行代码**：运行代码片段
- **分析代码**：分析代码结构和依赖
- **重构代码**：重构和优化代码

### API 调用

- **HTTP 请求**：发送 HTTP 请求
- **API 查询**：查询外部 API
- **数据获取**：从服务获取数据

### Git 操作

- **提交更改**：创建 Git 提交
- **查看日志**：查看 Git 日志
- **分支操作**：创建和切换分支

## 工具调用显示

### 调用卡片

每个工具调用显示为卡片形式：

- **工具名称**：被调用的工具或函数
- **图标**：工具类型的图标
- **状态**：调用状态（成功、失败、进行中）
- **摘要**：调用的简要说明

### 状态指示

工具调用的状态通过颜色和图标表示：

- **成功**：绿色对勾
- **失败**：红色叉号
- **进行中**：旋转加载图标
- **警告**：黄色警告图标

## 详细信息模态框

点击工具调用卡片可以打开详细信息模态框：

### 输入参数

显示传递给工具的所有参数：

- **参数名**：参数的名称
- **参数值**：参数的值
- **参数类型**：参数的数据类型
- **格式化显示**：JSON 或其他格式的美化显示

### 执行结果

显示工具执行的返回结果：

- **返回数据**：完整的返回数据
- **执行时间**：执行耗时
- **结果大小**：返回数据的大小

### 错误信息

如果调用失败，显示错误详情：

- **错误消息**：错误的具体描述
- **错误堆栈**：错误堆栈跟踪
- **建议**：解决错误的建议

## 工具调用组

相关的工具调用可以分组显示：

- **自动分组**：根据上下文自动分组
- **组标题**：显示组的用途
- **折叠展开**：支持折叠和展开

## 性能监控

工具调用显示性能相关信息：

- **执行时间**：每个调用的执行时间
- **总时间**：所有调用的总时间
- **性能警告**：执行时间过长的警告

## 安全性

### 敏感信息过滤

工具调用中的敏感信息会被过滤：

- **API 密钥**：隐藏 API 密钥
- **密码**：隐藏密码字段
- **个人数据**：保护个人隐私信息

### 权限控制

显示工具调用的权限要求：

- **所需权限**：执行调用所需的权限
- **权限状态**：当前权限状态

## 最佳实践

### 查看工具调用

1. 关注失败的工具调用，了解失败原因
2. 检查执行时间，优化性能
3. 查看返回结果，验证预期行为

### 调试问题

当遇到问题时：

1. 查看相关的工具调用
2. 检查参数是否正确
3. 查看错误消息和堆栈
4. 根据错误信息调整输入

## 相关功能

- [消息渲染](./message-rendering.md) - 了解消息的渲染方式
- [待办任务](./todo-tasks.md) - 查看和管理对话中的任务
- [会话聊天](../session-management/session-chat.md) - 了解聊天面板的功能
